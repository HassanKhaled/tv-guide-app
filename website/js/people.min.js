let searchButton=document.querySelector("#search"),searchInput=document.querySelector("#searchTerm"),rolesList=document.querySelector("#roles"),crewList=document.querySelector("#crew");callOnStart("People"),createTempDivsOnContentDiv(10,"temp","#content"),getPeopleRequest=async url=>{const response=await fetch(url);clearContentOfParentElement(contentDiv);try{const data=await response.json();for(item of(console.log(data),results=data,data)){const x=item.person;console.log(x.name),createImageFromUrl(imageExistNotCreateTemp(x.image),x.name,x.url,JSON.stringify(x))}}catch(error){createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},getPeopleCastCredits=async id=>{results=[];const response=await fetch(` http://api.tvmaze.com/people/${id}/castcredits?embed=show`);clearBySelector("#roles"),fillListHeaderFromContentUsingRefrence(rolesList,"Roles ");try{const data=await response.json();for(item of data){let tempLi=document.createElement("li");tempLi.innerHTML=item._embedded.show.name,tempLi.setAttribute("href",item._embedded.show.url),tempLi.classList.add("list-group-item"),rolesList.appendChild(tempLi),results.push({name:item._embedded.show.name,url:item._embedded.show.url})}}catch(error){console.log(error),createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},getPeopleCrewCredits=async id=>{clearBySelector("#crew"),fillListHeaderFromContentUsingRefrence(crewList,"Crew "),results=[];const response=await fetch(` http://api.tvmaze.com/people/${id}/crewcredits?embed=show`);try{const data=await response.json();for(item of data){let tempLi=document.createElement("li");tempLi.innerHTML=item._embedded.show.name+`(${item.type})`,tempLi.classList.add("list-group-item"),crewList.appendChild(tempLi),results.push({name:item._embedded.show.name,url:item._embedded.show.url})}}catch(error){console.log(error),createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},searchButton.addEventListener("click",e=>{searchInput.checkValidity()?getPeopleRequest("http://api.tvmaze.com/search/people?q="+searchInput.value):createAlertWithMessage("alert-danger",3e3,"Error  ","please fill in required search field",contentDiv)}),contentDiv.addEventListener("click",e=>{console.log(e.target);const data=JSON.parse(e.target.getAttribute("data-value"));console.log(data),clearBySelector(".modal-title"),changeInnerHtmlContentUsingSelector(".modal-title",data.name);let content="";getPeopleCastCredits(data.id),getPeopleCrewCredits(data.id),null!==data.birthday?content+=data.birthday+" | ":content+="No birthday | ",null!==data.country?content+=data.country.name+" | ":content+="No Country | ",null!==data.gender?content+=data.gender:content+="No Gender | ",changeInnerHtmlContentUsingSelector("#info",content),changeInnerHtmlContentUsingSelector("#summary","We do not have any biography for this actor or actress"),null!==data.image?imageCreationIfExist(data.image,data.image.medium,"../website/images/missing.png","#modalImage"):document.querySelector("#modalImage").src="../website/images/missing.png",null!==data.country?flageImg.setAttribute("src",imageFlageFromCode(data.country.code)):flageImg.setAttribute("src",imageFlageFromCode("un")),changeHrefContentUsingSelector("#Tvmaz",data.url),console.log("Cast Credits ",results)});