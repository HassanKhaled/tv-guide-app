const countries=[{text:"USA",value:"US"},{text:"Canada",value:"CA"},{text:"United Kingdom",value:"GB"},{text:"France",value:"FR"},{text:"Germany",value:"DE"},{text:"Russia",value:"RU"}];fillInDropDownFromList(".countries",countries,"",!1),callOnStart("Schedule"),createTempDivsOnContentDiv(10,"tempTop","#content");const tar=document.querySelector(".row");function handleIntersection(entries){entries.map(entry=>{entry.isIntersecting&&console.log("test test")})}const obse=new IntersectionObserver(handleIntersection);let searchDateInput=document.querySelector("#searchDateTerm"),searchButton=document.querySelector("#search"),countriesDropDown=document.querySelector(".countries"),badageSpan=document.querySelector(".badge"),selectedCountry="";searchCountries=searchTerm=>{for(country of countries)if(country.text===searchTerm)return country.value},countriesDropDown.addEventListener("click",e=>{let className=e.target.innerHTML;removeClassFromChildrenOFElem("active",countriesDropDown),selectedCountry=searchCountries(className),badageSpan.innerHTML=selectedCountry,e.target.classList.add("active")}),getRequest=async url=>{const response=await fetch(url);try{const data=await response.json();for(item of(results=data,clearContentOfParentElement(contentDiv),fragment=new DocumentFragment,data)){const x=item;fragment.appendChild(createImageFromUrlForSchedul(imageExistNotCreateTemp(x.show.image),x.name,x.url,x))}contentDiv.appendChild(fragment),tar.forEach(t=>obse.observe(t))}catch(error){createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},searchButton.addEventListener("click",e=>{searchDateInput.checkValidity()?(""===selectedCountry&&(selectedCountry="US",badageSpan.innerHTML="US"),getRequest(`http://api.tvmaze.com/schedule?country=${selectedCountry}&date=${searchDateInput.value}`)):createAlertWithMessage("alert-danger",3e3,"Error  ","please fill in required search field",contentDiv)});