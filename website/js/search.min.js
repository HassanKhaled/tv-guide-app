let results="",dropdownOptions=document.querySelector(".options"),optionsButton=document.querySelector("#optionsButton");const searchUrl="http://api.tvmaze.com/search/shows?q=";let searchButton=document.querySelector("#search"),searchInput=document.querySelector("#searchTerm");searchButton.addEventListener("click",e=>{let searchUrl=searchQuery;searchInput.checkValidity()?"all"===searchUrl?getRequest("http://api.tvmaze.com/search/shows?q="+searchInput.value):"people"===searchUrl?getPeopleRequest("http://api.tvmaze.com/search/people?q="+searchInput.value):"tvdb"===searchUrl?getSingleRequest(" http://api.tvmaze.com/lookup/shows?thetvdb="+searchInput.value):"imdb"===searchUrl?getSingleRequest("http://api.tvmaze.com/lookup/shows?imdb="+searchInput.value):"tvrage"===searchUrl?getSingleRequest("http://api.tvmaze.com/lookup/shows?tvrage="+searchInput.value):"single"===searchUrl?getSingleRequest("http://api.tvmaze.com/singlesearch/shows?q="+searchInput.value):createAlertWithMessage("alert-danger",3e3,"Error  ","please choose a search option before proceeding",contentDiv):createAlertWithMessage("alert-danger",3e3,"Error  ","please fill in required search field",contentDiv)}),getRequest=async url=>{const response=await fetch(url);clearContentOfParentElement(contentDiv);try{const data=await response.json();for(item of(console.log(data),results=data,data)){const x=item.show;createImageFromUrl(imageExistNotCreateTemp(x.image),x.name,x.url,JSON.stringify(x))}}catch(error){createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},getPeopleRequest=async url=>{const response=await fetch(url);clearContentOfParentElement(contentDiv);try{const data=await response.json();for(item of(console.log(data),results=data,data)){const x=item.person;console.log(x.name),createImageFromUrl(imageExistNotCreateTemp(x.image),x.name,x.url,JSON.stringify(x))}}catch(error){createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},getSingleRequest=async url=>{const response=await fetch(url);clearContentOfParentElement(contentDiv);try{const data=await response.json();console.log(data),results=data;const x=data;console.log(x.name),createImageFromUrl(imageExistNotCreateTemp(x.image),x.name,x.url,JSON.stringify(x))}catch(error){createAlertWithMessage("alert-danger",3e3,"Error  ",error,contentDiv)}},createTempDivsOnContentDiv(10,"temp","#content"),contentDiv.addEventListener("click",e=>{console.log(e.target);const data=JSON.parse(e.target.getAttribute("data-value"));if(console.log(data),"all"===searchQuery){clearBySelector(".modal-title"),changeInnerHtmlContentUsingSelector(".modal-title",data.name);let content="";content+=data.type+" | ",content+=data.runtime+" Min | ",content+=data.language+" | ",content+=arrayIntoString(data.genres)+" | ",content+=data.premiered+" | ",null!==data.network?content+=data.network.country.name+" | ":content+="No Network |",content+=data.status,changeInnerHtmlContentUsingSelector("#info",content),changeInnerHtmlContentUsingSelector("#summary",data.summary),imageCreationIfExist(data.image,data.image.medium,"../website/images/missing.png","#modalImage"),null!==data.network?flageImg.setAttribute("src",imageFlageFromCode(data.network.country.code)):flageImg.setAttribute("src",imageFlageFromCode("un")),changeHrefContentUsingSelector("#official",data.officialSite),changeHrefContentUsingSelector("#Tvmaz",data.url)}else if("people"===searchQuery){clearBySelector(".modal-title"),changeInnerHtmlContentUsingSelector(".modal-title",data.name);let content="";null!==data.birthday?content+=data.birthday+" | ":content+="No birthday | ",null!==data.country?content+=data.country.name+" | ":content+="No Country | ",null!==data.gender?content+=data.gender:content+="No Gender | ",changeInnerHtmlContentUsingSelector("#info",content),changeInnerHtmlContentUsingSelector("#summary","We do not have any biography for this actor or actress"),imageCreationIfExist(data.image,data.image.medium,"../website/images/missing.png","#modalImage"),null!==data.country?flageImg.setAttribute("src",imageFlageFromCode(data.country.code)):flageImg.setAttribute("src",imageFlageFromCode("un")),changeHrefContentUsingSelector("#Tvmaz",data.url)}else{console.log(data),clearBySelector(".modal-title"),changeInnerHtmlContentUsingSelector(".modal-title",data.name);let content="";content+=data.type+" | ",content+=data.runtime+" Min | ",content+=data.language+" | ",content+=arrayIntoString(data.genres)+" | ",content+=data.premiered+" | ",null!==data.network?content+=data.network.country.name+" | ":content+="No Network |",content+=data.status,changeInnerHtmlContentUsingSelector("#info",content),changeInnerHtmlContentUsingSelector("#summary",data.summary),imageCreationIfExist(data.image,data.image.medium,"../website/images/missing.png","#modalImage"),null!==data.network?flageImg.setAttribute("src",imageFlageFromCode(data.network.country.code)):flageImg.setAttribute("src",imageFlageFromCode("un")),changeHrefContentUsingSelector("#official",data.officialSite),changeHrefContentUsingSelector("#Tvmaz",data.url)}}),dropdownOptions.addEventListener("click",e=>{searchQuery=e.target.innerHTML,removeClassFromChildrenOFElem("active",dropdownOptions),e.target.classList.add("active"),optionsButton.innerHTML=searchQuery}),fillInDropDownFromList(".options",options,"option",!1),callOnStart("Search");